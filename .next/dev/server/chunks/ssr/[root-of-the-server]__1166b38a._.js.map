{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/ProductsPage.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"ProductsPage-module__0ctMtq__actions\",\n  \"card\": \"ProductsPage-module__0ctMtq__card\",\n  \"cardBody\": \"ProductsPage-module__0ctMtq__cardBody\",\n  \"cardMedia\": \"ProductsPage-module__0ctMtq__cardMedia\",\n  \"empty\": \"ProductsPage-module__0ctMtq__empty\",\n  \"grid\": \"ProductsPage-module__0ctMtq__grid\",\n  \"mediaFrame\": \"ProductsPage-module__0ctMtq__mediaFrame\",\n  \"mediaHover\": \"ProductsPage-module__0ctMtq__mediaHover\",\n  \"mediaPlaceholder\": \"ProductsPage-module__0ctMtq__mediaPlaceholder\",\n  \"mediaPrimary\": \"ProductsPage-module__0ctMtq__mediaPrimary\",\n  \"page\": \"ProductsPage-module__0ctMtq__page\",\n  \"primaryLink\": \"ProductsPage-module__0ctMtq__primaryLink\",\n  \"section\": \"ProductsPage-module__0ctMtq__section\",\n  \"sectionHeader\": \"ProductsPage-module__0ctMtq__sectionHeader\",\n  \"subtitle\": \"ProductsPage-module__0ctMtq__subtitle\",\n  \"tag\": \"ProductsPage-module__0ctMtq__tag\",\n  \"viewLink\": \"ProductsPage-module__0ctMtq__viewLink\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/components/ProductsPage.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport styles from \"./ProductsPage.module.css\";\n\nconst toId = (value: string) =>\n  value\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/(^-|-$)/g, \"\");\n\ntype ProductCard = {\n  slug: string;\n  name: string;\n  category: string;\n  primaryImage: string | null;\n  hoverImage: string | null;\n  imageAlt: string | null;\n  colors: string[];\n};\n\ntype CategoryGroup = {\n  name: string;\n  items: ProductCard[];\n};\n\nexport default function ProductsPage({ categories }: { categories: CategoryGroup[] }) {\n  if (!categories.length) {\n    return (\n      <div className={styles.page}>\n        <section className={styles.section}>\n          <div className=\"container\">\n            <div className={styles.sectionHeader}>\n              <h2>Products</h2>\n              <p className={styles.empty}>No products are available yet.</p>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.page}>\n      {categories.map((category) => (\n        <section key={category.name} id={toId(category.name)} className={styles.section}>\n          <div className=\"container\">\n            <div className={styles.sectionHeader} data-reveal>\n              <h2>{category.name}</h2>\n            </div>\n            <div className={styles.grid} data-reveal-group>\n              {category.items.map((item) => (\n                <article key={item.slug} className={`${styles.card} reveal-item`}>\n                  <div className={styles.mediaFrame}>\n                    <div className={styles.cardMedia}>\n                      {item.primaryImage ? (\n                        <>\n                          <img\n                            className={styles.mediaPrimary}\n                            src={item.primaryImage}\n                            alt={item.imageAlt ?? item.name}\n                            loading=\"lazy\"\n                          />\n                          <img\n                            className={styles.mediaHover}\n                            src={item.hoverImage ?? item.primaryImage}\n                            alt=\"\"\n                            aria-hidden=\"true\"\n                            loading=\"lazy\"\n                          />\n                        </>\n                      ) : (\n                        <div className={styles.mediaPlaceholder} aria-hidden=\"true\"></div>\n                      )}\n                    </div>\n                  </div>\n                  <div className={styles.cardBody}>\n                    <span className={styles.tag}>Just In</span>\n                    <h3>{item.name}</h3>\n                    <p className={styles.subtitle}>{item.category ?? \"Packaging\"}</p>\n                    <div className={styles.actions}>\n                      <Link className={styles.viewLink} href={`/products/${item.slug}`}>\n                        View product\n                      </Link>\n                      <Link className={styles.primaryLink} href=\"/request-form\">\n                        Request Quote\n                      </Link>\n                    </div>\n                  </div>\n                </article>\n              ))}\n            </div>\n          </div>\n        </section>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,OAAO,CAAC,QACZ,MACG,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,YAAY;AAiBV,SAAS,aAAa,EAAE,UAAU,EAAmC;IAClF,IAAI,CAAC,WAAW,MAAM,EAAE;QACtB,qBACE,8OAAC;YAAI,WAAW,iJAAM,CAAC,IAAI;sBACzB,cAAA,8OAAC;gBAAQ,WAAW,iJAAM,CAAC,OAAO;0BAChC,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAW,iJAAM,CAAC,aAAa;;0CAClC,8OAAC;0CAAG;;;;;;0CACJ,8OAAC;gCAAE,WAAW,iJAAM,CAAC,KAAK;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMxC;IAEA,qBACE,8OAAC;QAAI,WAAW,iJAAM,CAAC,IAAI;kBACxB,WAAW,GAAG,CAAC,CAAC,yBACf,8OAAC;gBAA4B,IAAI,KAAK,SAAS,IAAI;gBAAG,WAAW,iJAAM,CAAC,OAAO;0BAC7E,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAW,iJAAM,CAAC,aAAa;4BAAE,aAAW;sCAC/C,cAAA,8OAAC;0CAAI,SAAS,IAAI;;;;;;;;;;;sCAEpB,8OAAC;4BAAI,WAAW,iJAAM,CAAC,IAAI;4BAAE,mBAAiB;sCAC3C,SAAS,KAAK,CAAC,GAAG,CAAC,CAAC,qBACnB,8OAAC;oCAAwB,WAAW,GAAG,iJAAM,CAAC,IAAI,CAAC,YAAY,CAAC;;sDAC9D,8OAAC;4CAAI,WAAW,iJAAM,CAAC,UAAU;sDAC/B,cAAA,8OAAC;gDAAI,WAAW,iJAAM,CAAC,SAAS;0DAC7B,KAAK,YAAY,iBAChB;;sEACE,8OAAC;4DACC,WAAW,iJAAM,CAAC,YAAY;4DAC9B,KAAK,KAAK,YAAY;4DACtB,KAAK,KAAK,QAAQ,IAAI,KAAK,IAAI;4DAC/B,SAAQ;;;;;;sEAEV,8OAAC;4DACC,WAAW,iJAAM,CAAC,UAAU;4DAC5B,KAAK,KAAK,UAAU,IAAI,KAAK,YAAY;4DACzC,KAAI;4DACJ,eAAY;4DACZ,SAAQ;;;;;;;iFAIZ,8OAAC;oDAAI,WAAW,iJAAM,CAAC,gBAAgB;oDAAE,eAAY;;;;;;;;;;;;;;;;sDAI3D,8OAAC;4CAAI,WAAW,iJAAM,CAAC,QAAQ;;8DAC7B,8OAAC;oDAAK,WAAW,iJAAM,CAAC,GAAG;8DAAE;;;;;;8DAC7B,8OAAC;8DAAI,KAAK,IAAI;;;;;;8DACd,8OAAC;oDAAE,WAAW,iJAAM,CAAC,QAAQ;8DAAG,KAAK,QAAQ,IAAI;;;;;;8DACjD,8OAAC;oDAAI,WAAW,iJAAM,CAAC,OAAO;;sEAC5B,8OAAC,0LAAI;4DAAC,WAAW,iJAAM,CAAC,QAAQ;4DAAE,MAAM,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE;sEAAE;;;;;;sEAGlE,8OAAC,0LAAI;4DAAC,WAAW,iJAAM,CAAC,WAAW;4DAAE,MAAK;sEAAgB;;;;;;;;;;;;;;;;;;;mCAhClD,KAAK,IAAI;;;;;;;;;;;;;;;;eAPjB,SAAS,IAAI;;;;;;;;;;AAoDnC"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/lib/supabaseServer.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error(\"Missing Supabase environment variables.\");\n}\n\nexport const supabaseServer = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: false,\n    autoRefreshToken: false\n  }\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,iBAAiB,IAAA,8LAAY,EAAC,aAAa,iBAAiB;IACvE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/app/products/page.tsx"],"sourcesContent":["import ProductsPage from \"../../components/ProductsPage\";\nimport { supabaseServer } from \"../../lib/supabaseServer\";\n\ntype ProductImageRow = {\n  product_id: string;\n  url: string;\n  alt: string | null;\n  sort_order: number | null;\n};\n\ntype ProductRow = {\n  id: string;\n  slug: string;\n  name: string;\n  type: string | null;\n  colors: string[] | null;\n};\n\ntype CategoryGroup = {\n  name: string;\n  items: {\n    slug: string;\n    name: string;\n    category: string;\n    primaryImage: string | null;\n    hoverImage: string | null;\n    imageAlt: string | null;\n    colors: string[];\n  }[];\n};\n\nexport const revalidate = 60;\n\nconst resolveImageUrl = (url: string | null) => {\n  if (!url) {\n    return null;\n  }\n\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    return url;\n  }\n\n  const baseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  if (!baseUrl) {\n    return url;\n  }\n\n  const trimmed = url.replace(/^\\/+/, \"\");\n  return `${baseUrl}/storage/v1/object/public/product-images/${trimmed}`;\n};\n\nasync function getProductsByCategory(): Promise<CategoryGroup[]> {\n  const { data: products, error } = await supabaseServer\n    .from(\"products\")\n    .select(\"id, slug, name, type, colors\")\n    .eq(\"is_active\", true)\n    .order(\"created_at\", { ascending: false });\n\n  if (error || !products) {\n    console.error(\"Failed to load products:\", error);\n    return [];\n  }\n\n  if (!products.length) {\n    return [];\n  }\n\n  const productIds = products.map((product) => product.id);\n  const { data: images, error: imagesError } = await supabaseServer\n    .from(\"product_images\")\n    .select(\"product_id, url, alt, sort_order\")\n    .in(\"product_id\", productIds)\n    .order(\"sort_order\", { ascending: true });\n\n  if (imagesError) {\n    console.error(\"Failed to load product images:\", imagesError);\n  }\n\n  const imagesByProduct = new Map<string, ProductImageRow[]>();\n  (images ?? []).forEach((image) => {\n    const existing = imagesByProduct.get(image.product_id) ?? [];\n    existing.push(image);\n    imagesByProduct.set(image.product_id, existing);\n  });\n\n  const categoryOrder: string[] = [];\n  const grouped = new Map<string, CategoryGroup[\"items\"]>();\n\n  products.forEach((product: ProductRow) => {\n    const category = product.type?.trim() || \"Other\";\n    if (!grouped.has(category)) {\n      grouped.set(category, []);\n      categoryOrder.push(category);\n    }\n\n    const images = imagesByProduct.get(product.id) ?? [];\n    const primary = resolveImageUrl(images[0]?.url ?? null);\n    const hover = resolveImageUrl(images[1]?.url ?? null) ?? primary;\n    const alt = images[0]?.alt ?? product.name;\n\n    grouped.get(category)?.push({\n      slug: product.slug,\n      name: product.name,\n      category,\n      primaryImage: primary,\n      hoverImage: hover,\n      imageAlt: alt,\n      colors: product.colors ?? []\n    });\n  });\n\n  return categoryOrder.map((category) => ({\n    name: category,\n    items: grouped.get(category) ?? []\n  }));\n}\n\nexport default async function Products() {\n  const categories = await getProductsByCategory();\n  return <ProductsPage categories={categories} />;\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AA8BO,MAAM,aAAa;AAE1B,MAAM,kBAAkB,CAAC;IACvB,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,IAAI,IAAI,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,aAAa;QAC3D,OAAO;IACT;IAEA,MAAM;IACN;;IAIA,MAAM,UAAU,IAAI,OAAO,CAAC,QAAQ;IACpC,OAAO,GAAG,QAAQ,yCAAyC,EAAE,SAAS;AACxE;AAEA,eAAe;IACb,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAc,CACnD,IAAI,CAAC,YACL,MAAM,CAAC,gCACP,EAAE,CAAC,aAAa,MAChB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,SAAS,CAAC,UAAU;QACtB,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACX;IAEA,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,OAAO,EAAE;IACX;IAEA,MAAM,aAAa,SAAS,GAAG,CAAC,CAAC,UAAY,QAAQ,EAAE;IACvD,MAAM,EAAE,MAAM,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,uIAAc,CAC9D,IAAI,CAAC,kBACL,MAAM,CAAC,oCACP,EAAE,CAAC,cAAc,YACjB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK;IAEzC,IAAI,aAAa;QACf,QAAQ,KAAK,CAAC,kCAAkC;IAClD;IAEA,MAAM,kBAAkB,IAAI;IAC5B,CAAC,UAAU,EAAE,EAAE,OAAO,CAAC,CAAC;QACtB,MAAM,WAAW,gBAAgB,GAAG,CAAC,MAAM,UAAU,KAAK,EAAE;QAC5D,SAAS,IAAI,CAAC;QACd,gBAAgB,GAAG,CAAC,MAAM,UAAU,EAAE;IACxC;IAEA,MAAM,gBAA0B,EAAE;IAClC,MAAM,UAAU,IAAI;IAEpB,SAAS,OAAO,CAAC,CAAC;QAChB,MAAM,WAAW,QAAQ,IAAI,EAAE,UAAU;QACzC,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW;YAC1B,QAAQ,GAAG,CAAC,UAAU,EAAE;YACxB,cAAc,IAAI,CAAC;QACrB;QAEA,MAAM,SAAS,gBAAgB,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE;QACpD,MAAM,UAAU,gBAAgB,MAAM,CAAC,EAAE,EAAE,OAAO;QAClD,MAAM,QAAQ,gBAAgB,MAAM,CAAC,EAAE,EAAE,OAAO,SAAS;QACzD,MAAM,MAAM,MAAM,CAAC,EAAE,EAAE,OAAO,QAAQ,IAAI;QAE1C,QAAQ,GAAG,CAAC,WAAW,KAAK;YAC1B,MAAM,QAAQ,IAAI;YAClB,MAAM,QAAQ,IAAI;YAClB;YACA,cAAc;YACd,YAAY;YACZ,UAAU;YACV,QAAQ,QAAQ,MAAM,IAAI,EAAE;QAC9B;IACF;IAEA,OAAO,cAAc,GAAG,CAAC,CAAC,WAAa,CAAC;YACtC,MAAM;YACN,OAAO,QAAQ,GAAG,CAAC,aAAa,EAAE;QACpC,CAAC;AACH;AAEe,eAAe;IAC5B,MAAM,aAAa,MAAM;IACzB,qBAAO,8OAAC,sIAAY;QAAC,YAAY;;;;;;AACnC"}}]
}