{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/components/ProductDetail.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ProductDetail.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ProductDetail.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/components/ProductDetail.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ProductDetail.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ProductDetail.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/lib/supabaseServer.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error(\"Missing Supabase environment variables.\");\n}\n\nexport const supabaseServer = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: false,\n    autoRefreshToken: false\n  }\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,iBAAiB,IAAA,8LAAY,EAAC,aAAa,iBAAiB;IACvE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/app/products/%5Bslug%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\nimport ProductDetail from \"../../../components/ProductDetail\";\nimport { supabaseServer } from \"../../../lib/supabaseServer\";\nimport type { ProductRecord } from \"../../../components/ProductDetail\";\n\nconst resolveImageUrl = (url: string | null) => {\n  if (!url) {\n    return null;\n  }\n\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    return url;\n  }\n\n  const baseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  if (!baseUrl) {\n    return url;\n  }\n\n  const trimmed = url.replace(/^\\/+/, \"\");\n  return `${baseUrl}/storage/v1/object/public/product-images/${trimmed}`;\n};\n\nasync function getProduct(slug: string): Promise<ProductRecord | null> {\n  const { data, error } = await supabaseServer\n    .from(\"products\")\n    .select(\n      `slug,\n      id,\n      name,\n      sku,\n      description,\n      type,\n      style,\n      material,\n      plastic_type,\n      industrial_use,\n      place_of_origin,\n      model_number,\n      brand_name,\n      product_name,\n      colors,\n      size,\n      moq,\n      logo,\n      feature,\n      sample_available,\n      packaging_details`\n    )\n    .eq(\"slug\", slug)\n    .eq(\"is_active\", true)\n    .maybeSingle();\n\n  if (error || !data) {\n    if (error) {\n      console.error(\"Failed to load product:\", error);\n    }\n    return null;\n  }\n\n  const { data: images, error: imagesError } = await supabaseServer\n    .from(\"product_images\")\n    .select(\"url, alt, sort_order\")\n    .eq(\"product_id\", data.id)\n    .order(\"sort_order\", { ascending: true });\n\n  if (imagesError) {\n    console.error(\"Failed to load product images:\", imagesError);\n  }\n\n  const normalizedImages = (images ?? []).map((image) => ({\n    ...image,\n    url: resolveImageUrl(image.url)\n  }));\n\n  return { ...(data as ProductRecord), product_images: normalizedImages };\n}\n\nexport default async function ProductPage({\n  params\n}: {\n  params: Promise<{ slug: string }>;\n}) {\n  const { slug } = await params;\n  const product = await getProduct(slug);\n\n  if (!product) {\n    notFound();\n  }\n\n  return <ProductDetail product={product} />;\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAGA,MAAM,kBAAkB,CAAC;IACvB,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,IAAI,IAAI,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,aAAa;QAC3D,OAAO;IACT;IAEA,MAAM;IACN;;IAIA,MAAM,UAAU,IAAI,OAAO,CAAC,QAAQ;IACpC,OAAO,GAAG,QAAQ,yCAAyC,EAAE,SAAS;AACxE;AAEA,eAAe,WAAW,IAAY;IACpC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAc,CACzC,IAAI,CAAC,YACL,MAAM,CACL,CAAC;;;;;;;;;;;;;;;;;;;;uBAoBgB,CAAC,EAEnB,EAAE,CAAC,QAAQ,MACX,EAAE,CAAC,aAAa,MAChB,WAAW;IAEd,IAAI,SAAS,CAAC,MAAM;QAClB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;QACA,OAAO;IACT;IAEA,MAAM,EAAE,MAAM,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,uIAAc,CAC9D,IAAI,CAAC,kBACL,MAAM,CAAC,wBACP,EAAE,CAAC,cAAc,KAAK,EAAE,EACxB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK;IAEzC,IAAI,aAAa;QACf,QAAQ,KAAK,CAAC,kCAAkC;IAClD;IAEA,MAAM,mBAAmB,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAC,QAAU,CAAC;YACtD,GAAG,KAAK;YACR,KAAK,gBAAgB,MAAM,GAAG;QAChC,CAAC;IAED,OAAO;QAAE,GAAI,IAAI;QAAoB,gBAAgB;IAAiB;AACxE;AAEe,eAAe,YAAY,EACxC,MAAM,EAGP;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,UAAU,MAAM,WAAW;IAEjC,IAAI,CAAC,SAAS;QACZ,IAAA,iMAAQ;IACV;IAEA,qBAAO,8OAAC,uIAAa;QAAC,SAAS;;;;;;AACjC"}}]
}