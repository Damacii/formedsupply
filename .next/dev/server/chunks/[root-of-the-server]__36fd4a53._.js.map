{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/lib/supabaseServer.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error(\"Missing Supabase environment variables.\");\n}\n\nexport const supabaseServer = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: false,\n    autoRefreshToken: false\n  }\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,iBAAiB,IAAA,gMAAY,EAAC,aAAa,iBAAiB;IACvE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/damaciistudios/Desktop/FORMED%20SUPPLY/app/api/requests/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { supabaseServer } from \"../../../lib/supabaseServer\";\n\nexport async function POST(request: Request) {\n  try {\n    const payload = await request.json();\n    const {\n      name,\n      email,\n      company,\n      phone,\n      language,\n      address,\n      contactMethod,\n      instagramHandle,\n      productSelections,\n      quantities,\n      logoColor,\n      logoUrl,\n      message\n    } = payload ?? {};\n\n    if (!name || !email) {\n      return NextResponse.json({ error: \"Missing required fields.\" }, { status: 400 });\n    }\n\n    const { error } = await supabaseServer.from(\"requests\").insert({\n      name,\n      email,\n      company: company || null,\n      phone: phone || null,\n      language: language || null,\n      address: address || null,\n      contact_method: contactMethod || null,\n      instagram_handle: instagramHandle || null,\n      products: Array.isArray(productSelections) ? productSelections : null,\n      quantities: quantities || null,\n      logo_color: logoColor || null,\n      logo_url: logoUrl || null,\n      message: message || null\n    });\n\n    if (error) {\n      return NextResponse.json({ error: \"Failed to save request.\" }, { status: 500 });\n    }\n\n    return NextResponse.json({ ok: true });\n  } catch (error) {\n    return NextResponse.json({ error: \"Invalid request.\" }, { status: 400 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,UAAU,MAAM,QAAQ,IAAI;QAClC,MAAM,EACJ,IAAI,EACJ,KAAK,EACL,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,EACP,aAAa,EACb,eAAe,EACf,iBAAiB,EACjB,UAAU,EACV,SAAS,EACT,OAAO,EACP,OAAO,EACR,GAAG,WAAW,CAAC;QAEhB,IAAI,CAAC,QAAQ,CAAC,OAAO;YACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA2B,GAAG;gBAAE,QAAQ;YAAI;QAChF;QAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,yIAAc,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;YAC7D;YACA;YACA,SAAS,WAAW;YACpB,OAAO,SAAS;YAChB,UAAU,YAAY;YACtB,SAAS,WAAW;YACpB,gBAAgB,iBAAiB;YACjC,kBAAkB,mBAAmB;YACrC,UAAU,MAAM,OAAO,CAAC,qBAAqB,oBAAoB;YACjE,YAAY,cAAc;YAC1B,YAAY,aAAa;YACzB,UAAU,WAAW;YACrB,SAAS,WAAW;QACtB;QAEA,IAAI,OAAO;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;AACF"}}]
}